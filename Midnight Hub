-- Midnight Hub Script
-- Simplified UI with working draggable interface and proper key system

-- Configuration
local KeySystem = true -- Set to false to disable key system
local Key = "MidnightyHubOnTop" -- Key for accessing the scripts

-- Game IDs and their corresponding script URLs
local GameScripts = {
    [124436699527543] = "https://raw.githubusercontent.com/Santiago019-sketch/Strongest-Lifting-Simulator/refs/heads/main/Midnight%20Hub",
    [16784977282] = "https://raw.githubusercontent.com/Santiago019-sketch/Super-Sayian-Simulator-2-midnight/refs/heads/main/Midnight%20super%20sayian%20sim%202",
    [9285238704] = "https://raw.githubusercontent.com/Santiago019-sketch/Race-Clicker-Midnight/refs/heads/main/Race%20clicker%20Midnight%20Hub",
    [5490351219] = "https://raw.githubusercontent.com/Santiago019-sketch/Clicker-Madneess-Midnight-Hub/refs/heads/main/Clicker%20Madness",
    [16732694052] = "https://raw.githubusercontent.com/Santiago019-sketch/Fichy/refs/heads/main/MidnightHub",
    [3623096087] = "https://raw.githubusercontent.com/Santiago019-sketch/Midnight/refs/heads/main/Muscle%20Legends%20%7C%20Midnigt%20Hub",
    [574407221] = "https://raw.githubusercontent.com/Santiago019-sketch/Super-Hero-Tycoon/main/Main.lua"
}

-- Services
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local StarterGui = game:GetService("StarterGui")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- Create ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "MidnightHubGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
if syn and syn.protect_gui then
    syn.protect_gui(ScreenGui)
elseif gethui then
    ScreenGui.Parent = gethui()
else
    ScreenGui.Parent = game.CoreGui
end

-- Colors
local Colors = {
    Background = Color3.fromRGB(25, 25, 35),
    DarkAccent = Color3.fromRGB(20, 20, 30),
    LightAccent = Color3.fromRGB(35, 35, 50),
    Primary = Color3.fromRGB(138, 43, 226), -- Purple color
    Secondary = Color3.fromRGB(100, 25, 180),
    Text = Color3.fromRGB(255, 255, 255),
    Error = Color3.fromRGB(255, 75, 75),
    Success = Color3.fromRGB(75, 255, 100),
    Discord = Color3.fromRGB(88, 101, 242)
}

-- Create Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 350, 0, 280) -- Smaller size
MainFrame.Position = UDim2.new(0.5, -175, 0.5, -140)
MainFrame.BackgroundColor3 = Colors.Background
MainFrame.BorderSizePixel = 0
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.Parent = ScreenGui

-- Add corner radius
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = MainFrame

-- Add shadow
local Shadow = Instance.new("ImageLabel")
Shadow.Size = UDim2.new(1, 30, 1, 30)
Shadow.Position = UDim2.new(0.5, 0, 0.5, 0)
Shadow.BackgroundTransparency = 1
Shadow.Image = "rbxassetid://6015897843"
Shadow.ImageColor3 = Color3.new(0, 0, 0)
Shadow.ImageTransparency = 0.6
Shadow.SliceCenter = Rect.new(49, 49, 450, 450)
Shadow.ScaleType = Enum.ScaleType.Slice
Shadow.SliceScale = 1
Shadow.AnchorPoint = Vector2.new(0.5, 0.5)
Shadow.ZIndex = -1
Shadow.Parent = MainFrame

-- Create Title Bar
local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0, 40) -- Smaller title bar
TitleBar.Position = UDim2.new(0, 0, 0, 0)
TitleBar.BackgroundColor3 = Colors.DarkAccent
TitleBar.BorderSizePixel = 0
TitleBar.ZIndex = 2
TitleBar.Parent = MainFrame

-- Add corner radius to title bar (top corners only)
local TitleCorner = Instance.new("UICorner")
TitleCorner.CornerRadius = UDim.new(0, 10)
TitleCorner.Parent = TitleBar

-- Fix UICorner on title bar to only round top corners
local TitleCornerFix = Instance.new("Frame")
TitleCornerFix.Size = UDim2.new(1, 0, 0.5, 0)
TitleCornerFix.Position = UDim2.new(0, 0, 0.5, 0)
TitleCornerFix.BackgroundColor3 = Colors.DarkAccent
TitleCornerFix.BorderSizePixel = 0
TitleCornerFix.ZIndex = 3
TitleCornerFix.Parent = TitleBar

-- Create Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 1, 0)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "Midnight Hub"
Title.TextColor3 = Colors.Text
Title.Font = Enum.Font.GothamBold
Title.TextSize = 22
Title.ZIndex = 4
Title.Parent = TitleBar

-- Create Logo
local Logo = Instance.new("ImageLabel")
Logo.Size = UDim2.new(0, 24, 0, 24)
Logo.Position = UDim2.new(0, 12, 0, 8)
Logo.BackgroundTransparency = 1
Logo.Image = "rbxassetid://7733658504" -- Moon logo
Logo.ZIndex = 5
Logo.Parent = TitleBar

-- Create Close Button
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -35, 0, 5)
CloseButton.BackgroundTransparency = 1
CloseButton.Text = "Ã—"
CloseButton.TextColor3 = Colors.Text
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 24
CloseButton.ZIndex = 5
CloseButton.Parent = TitleBar

-- Create Status Label
local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(0.9, 0, 0, 25)
StatusLabel.Position = UDim2.new(0.05, 0, 0, 50)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Text = "Enter your key to access scripts"
StatusLabel.TextColor3 = Colors.Text
StatusLabel.Font = Enum.Font.Gotham
StatusLabel.TextSize = 14
StatusLabel.Parent = MainFrame

-- Create Key Input
local KeyInput = Instance.new("TextBox")
KeyInput.Size = UDim2.new(0.9, 0, 0, 40)
KeyInput.Position = UDim2.new(0.05, 0, 0, 85)
KeyInput.BackgroundColor3 = Colors.LightAccent
KeyInput.BorderSizePixel = 0
KeyInput.PlaceholderText = "Enter Key"
KeyInput.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
KeyInput.TextColor3 = Colors.Text
KeyInput.Font = Enum.Font.Gotham
KeyInput.TextSize = 16
KeyInput.ClearTextOnFocus = false
KeyInput.Parent = MainFrame

-- Add corner radius to key input
local KeyInputCorner = Instance.new("UICorner")
KeyInputCorner.CornerRadius = UDim.new(0, 8)
KeyInputCorner.Parent = KeyInput

-- Create Submit Button
local SubmitButton = Instance.new("TextButton")
SubmitButton.Size = UDim2.new(0.9, 0, 0, 40)
SubmitButton.Position = UDim2.new(0.05, 0, 0, 135)
SubmitButton.BackgroundColor3 = Colors.Primary
SubmitButton.BorderSizePixel = 0
SubmitButton.Text = "Submit Key"
SubmitButton.TextColor3 = Colors.Text
SubmitButton.Font = Enum.Font.GothamBold
SubmitButton.TextSize = 16
SubmitButton.Parent = MainFrame

-- Add corner radius to submit button
local SubmitCorner = Instance.new("UICorner")
SubmitCorner.CornerRadius = UDim.new(0, 8)
SubmitCorner.Parent = SubmitButton

-- Create Discord Link
local DiscordButton = Instance.new("TextButton")
DiscordButton.Size = UDim2.new(0.9, 0, 0, 40)
DiscordButton.Position = UDim2.new(0.05, 0, 0, 185)
DiscordButton.BackgroundColor3 = Colors.Discord
DiscordButton.BorderSizePixel = 0
DiscordButton.Text = "Join Discord"
DiscordButton.TextColor3 = Colors.Text
DiscordButton.Font = Enum.Font.GothamBold
DiscordButton.TextSize = 16
DiscordButton.Parent = MainFrame

-- Add corner radius to discord button
local DiscordCorner = Instance.new("UICorner")
DiscordCorner.CornerRadius = UDim.new(0, 8)
DiscordCorner.Parent = DiscordButton

-- Create Game Support Label
local GameSupportLabel = Instance.new("TextLabel")
GameSupportLabel.Size = UDim2.new(0.9, 0, 0, 20)
GameSupportLabel.Position = UDim2.new(0.05, 0, 0, 235)
GameSupportLabel.BackgroundTransparency = 1
GameSupportLabel.TextColor3 = Colors.Text
GameSupportLabel.Font = Enum.Font.Gotham
GameSupportLabel.TextSize = 12
GameSupportLabel.Parent = MainFrame

-- Check if current game is supported
local CurrentGameId = game.PlaceId
local IsGameSupported = GameScripts[CurrentGameId] ~= nil

if IsGameSupported then
    GameSupportLabel.Text = "âœ“ This game is supported!"
    GameSupportLabel.TextColor3 = Colors.Success
else
    GameSupportLabel.Text = "âœ— This game is not supported"
    GameSupportLabel.TextColor3 = Colors.Error
end

-- Create Version Label
local VersionLabel = Instance.new("TextLabel")
VersionLabel.Size = UDim2.new(0.9, 0, 0, 20)
VersionLabel.Position = UDim2.new(0.05, 0, 0, 255)
VersionLabel.BackgroundTransparency = 1
VersionLabel.Text = "v2.1.0"
VersionLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
VersionLabel.Font = Enum.Font.Gotham
VersionLabel.TextSize = 10
VersionLabel.Parent = MainFrame

-- Function to create visual feedback for buttons
local function CreateButtonEffect(button)
    -- Hover effect
    button.MouseEnter:Connect(function()
        local goal = {}
        goal.BackgroundColor3 = button.BackgroundColor3:Lerp(Colors.Text, 0.2)
        
        local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(button, tweenInfo, goal)
        tween:Play()
    end)
    
    button.MouseLeave:Connect(function()
        local originalColor
        if button == DiscordButton then
            originalColor = Colors.Discord
        elseif button == SubmitButton then
            originalColor = Colors.Primary
        else
            originalColor = Colors.LightAccent
        end
        
        local goal = {}
        goal.BackgroundColor3 = originalColor
        
        local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(button, tweenInfo, goal)
        tween:Play()
    end)
    
    -- Click effect
    button.MouseButton1Down:Connect(function()
        local goal = {}
        goal.Size = button.Size - UDim2.new(0, 2, 0, 2)
        goal.Position = button.Position + UDim2.new(0, 1, 0, 1)
        
        local tweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(button, tweenInfo, goal)
        tween:Play()
    end)
    
    button.MouseButton1Up:Connect(function()
        local goal = {}
        goal.Size = UDim2.new(0.9, 0, 0, 40)
        goal.Position = button.Position - UDim2.new(0, 1, 0, 1)
        
        local tweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(button, tweenInfo, goal)
        tween:Play()
    end)
end

-- Add button effects
CreateButtonEffect(SubmitButton)
CreateButtonEffect(DiscordButton)

-- Make UI draggable (fixed implementation)
local Dragging = false
local DragStart = nil
local StartPos = nil

TitleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        Dragging = true
        DragStart = input.Position
        StartPos = MainFrame.Position
        
        -- Connect to InputChanged before letting go
        local InputChangedConnection
        InputChangedConnection = UserInputService.InputChanged:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseMovement then
                local delta = input.Position - DragStart
                local targetPosition = UDim2.new(
                    StartPos.X.Scale,
                    StartPos.X.Offset + delta.X,
                    StartPos.Y.Scale,
                    StartPos.Y.Offset + delta.Y
                )
                
                MainFrame.Position = targetPosition
            end
        end)
        
        -- Disconnect when mouse button is released
        local InputEndedConnection
        InputEndedConnection = UserInputService.InputEnded:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                Dragging = false
                if InputChangedConnection then
                    InputChangedConnection:Disconnect()
                end
                if InputEndedConnection then
                    InputEndedConnection:Disconnect()
                end
            end
        end)
    end
end)

-- Function to display enhanced notifications
local function Notify(title, text, type, duration)
    duration = duration or 5
    
    -- Create notification frame
    local NotifFrame = Instance.new("Frame")
    NotifFrame.Size = UDim2.new(0, 280, 0, 70)
    NotifFrame.Position = UDim2.new(1, 10, 1, -80)
    NotifFrame.BackgroundColor3 = Colors.Background
    NotifFrame.BorderSizePixel = 0
    NotifFrame.AnchorPoint = Vector2.new(1, 1)
    NotifFrame.Parent = ScreenGui
    
    -- Add corner radius
    local NotifCorner = Instance.new("UICorner")
    NotifCorner.CornerRadius = UDim.new(0, 8)
    NotifCorner.Parent = NotifFrame
    
    -- Add shadow
    local NotifShadow = Instance.new("ImageLabel")
    NotifShadow.Size = UDim2.new(1, 30, 1, 30)
    NotifShadow.Position = UDim2.new(0.5, 0, 0.5, 0)
    NotifShadow.BackgroundTransparency = 1
    NotifShadow.Image = "rbxassetid://6015897843"
    NotifShadow.ImageColor3 = Color3.new(0, 0, 0)
    NotifShadow.ImageTransparency = 0.6
    NotifShadow.SliceCenter = Rect.new(49, 49, 450, 450)
    NotifShadow.ScaleType = Enum.ScaleType.Slice
    NotifShadow.SliceScale = 1
    NotifShadow.AnchorPoint = Vector2.new(0.5, 0.5)
    NotifShadow.ZIndex = -1
    NotifShadow.Parent = NotifFrame
    
    -- Status color indicator
    local StatusBar = Instance.new("Frame")
    StatusBar.Size = UDim2.new(0, 5, 1, 0)
    StatusBar.Position = UDim2.new(0, 0, 0, 0)
    StatusBar.BorderSizePixel = 0
    StatusBar.Parent = NotifFrame
    
    -- Add corner radius to status bar (left side only)
    local StatusCorner = Instance.new("UICorner")
    StatusCorner.CornerRadius = UDim.new(0, 8)
    StatusCorner.Parent = StatusBar
    
    local StatusPadding = Instance.new("UIPadding")
    StatusPadding.PaddingRight = UDim.new(0, 5)
    StatusPadding.Parent = StatusBar
    
    -- Set color based on notification type
    if type == "success" then
        StatusBar.BackgroundColor3 = Colors.Success
    elseif type == "error" then
        StatusBar.BackgroundColor3 = Colors.Error
    elseif type == "info" then
        StatusBar.BackgroundColor3 = Colors.Primary
    else
        StatusBar.BackgroundColor3 = Colors.Discord
    end
    
    -- Create notification title
    local NotifTitle = Instance.new("TextLabel")
    NotifTitle.Size = UDim2.new(1, -40, 0, 25)
    NotifTitle.Position = UDim2.new(0, 15, 0, 5)
    NotifTitle.BackgroundTransparency = 1
    NotifTitle.Text = title
    NotifTitle.Font = Enum.Font.GothamBold
    NotifTitle.TextSize = 14
    NotifTitle.TextColor3 = Colors.Text
    NotifTitle.TextXAlignment = Enum.TextXAlignment.Left
    NotifTitle.Parent = NotifFrame
    
    -- Create notification text
    local NotifText = Instance.new("TextLabel")
    NotifText.Size = UDim2.new(1, -25, 0, 35)
    NotifText.Position = UDim2.new(0, 15, 0, 30)
    NotifText.BackgroundTransparency = 1
    NotifText.Text = text
    NotifText.Font = Enum.Font.Gotham
    NotifText.TextSize = 12
    NotifText.TextColor3 = Color3.fromRGB(200, 200, 200)
    NotifText.TextXAlignment = Enum.TextXAlignment.Left
    NotifText.TextWrapped = true
    NotifText.Parent = NotifFrame
    
    -- Create close button
    local NotifClose = Instance.new("TextButton")
    NotifClose.Size = UDim2.new(0, 18, 0, 18)
    NotifClose.Position = UDim2.new(1, -20, 0, 8)
    NotifClose.BackgroundTransparency = 1
    NotifClose.Text = "Ã—"
    NotifClose.TextColor3 = Colors.Text
    NotifClose.Font = Enum.Font.GothamBold
    NotifClose.TextSize = 14
    NotifClose.Parent = NotifFrame
    
    -- Animation - slide in
    NotifFrame.Position = UDim2.new(1, 290, 1, -80)
    local goal = {}
    goal.Position = UDim2.new(1, -10, 1, -80)
    
    local tweenInfo = TweenInfo.new(0.4, Enum.EasingStyle.Quart, Enum.EasingDirection.Out)
    local tween = TweenService:Create(NotifFrame, tweenInfo, goal)
    tween:Play()
    
    -- Close notification function
    local function CloseNotif()
        local goal = {}
        goal.Position = UDim2.new(1, 290, 1, -80)
        
        local tweenInfo = TweenInfo.new(0.4, Enum.EasingStyle.Quart, Enum.EasingDirection.In)
        local tween = TweenService:Create(NotifFrame, tweenInfo, goal)
        tween:Play()
        
        tween.Completed:Connect(function()
            NotifFrame:Destroy()
        end)
    end
    
    -- Close on button click
    NotifClose.MouseButton1Click:Connect(CloseNotif)
    
    -- Auto close after duration
    task.delay(duration, CloseNotif)
    
    return NotifFrame
end

-- Function to handle key submission
local function OnSubmitKey()
    if not KeySystem or KeyInput.Text == Key then
        Notify("Success", "Key confirmed! Loading script...", "success", 3)
        
        -- Execute the game-specific script
        local gameId = game.PlaceId
        local scriptUrl = GameScripts[gameId]
        
        if scriptUrl then
            local success, result = pcall(function()
                return game:HttpGet(scriptUrl)
            end)
            
            if success then
                -- Close the key system UI with animation
                local goal = {}
                goal.Size = UDim2.new(0, 0, 0, 0)
                goal.Position = UDim2.new(0.5, 0, 0.5, 0)
                
                local tweenInfo = TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.In)
                local tween = TweenService:Create(MainFrame, tweenInfo, goal)
                tween:Play()
                
                tween.Completed:Connect(function()
                    ScreenGui:Destroy()
                    
                    -- Execute the script after UI is closed
                    local execSuccess, execResult = pcall(function()
                        return loadstring(result)()
                    end)
                    
                    if not execSuccess then
                        -- If execution fails, create a new notification (since our UI is gone)
                        local ErrorGui = Instance.new("ScreenGui")
                        ErrorGui.Name = "MidnightErrorGui"
                        if syn and syn.protect_gui then
                            syn.protect_gui(ErrorGui)
                        elseif gethui then
                            ErrorGui.Parent = gethui()
                        else
                            ErrorGui.Parent = game.CoreGui
                        end
                        
                        local ErrorFrame = Instance.new("Frame")
                        ErrorFrame.Size = UDim2.new(0, 300, 0, 80)
                        ErrorFrame.Position = UDim2.new(1, -310, 1, -90)
                        ErrorFrame.BackgroundColor3 = Colors.Background
                        ErrorFrame.BorderSizePixel = 0
                        ErrorFrame.Parent = ErrorGui
                        
                        local ErrorCorner = Instance.new("UICorner")
                        ErrorCorner.CornerRadius = UDim.new(0, 8)
                        ErrorCorner.Parent = ErrorFrame
                        
                        local ErrorText = Instance.new("TextLabel")
                        ErrorText.Size = UDim2.new(1, -20, 1, -20)
                        ErrorText.Position = UDim2.new(0, 10, 0, 10)
                        ErrorText.BackgroundTransparency = 1
                        ErrorText.Text = "Script execution failed. Please rejoin and try again."
                        ErrorText.TextColor3 = Colors.Error
                        ErrorText.Font = Enum.Font.GothamBold
                        ErrorText.TextSize = 14
                        ErrorText.TextWrapped = true
                        ErrorText.Parent = ErrorFrame
                        
                        task.delay(5, function()
                            ErrorGui:Destroy()
                        end)
                    end
                end)
            else
                Notify("Download Error", "Failed to download script. Check your internet connection.", "error", 5)
            end
        else
            Notify("Game Not Supported", "No script available for this game (ID: "..gameId..")", "error", 5)
        end
    else
        KeyInput.Text = ""
        Notify("Invalid Key", "The key you entered is incorrect. Please try again.", "error", 5)
        
        -- Shake animation for wrong key
        for i = 1, 5 do
            local offset = (i % 2 == 0) and 5 or -5
            local goal = {}
            goal.Position = UDim2.new(0.5, -175 + offset, 0.5, -140)
            
            local tweenInfo = TweenInfo.new(0.05, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            local tween = TweenService:Create(MainFrame, tweenInfo, goal)
            tween:Play()
            task.wait(0.05)
        end
        
        -- Reset position
        local goal = {}
        goal.Position = UDim2.new(0.5, -175, 0.5, -140)
        
        local tweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(MainFrame, tweenInfo, goal)
        tween:Play()
    end
end

-- Function to open Discord link
local function OpenDiscord()
    local DiscordLink = "https://discord.gg/your-invite-code" -- Replace with your actual Discord invite
    
    if syn and syn.request then
        syn.request({
            Url = "http://127.0.0.1:6463/rpc?v=1",
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json",
                ["Origin"] = "https://discord.com"
            },
            Body = HttpService:JSONEncode({
                cmd = "INVITE_BROWSER",
                args = {
                    code = string.gsub(DiscordLink, "https://discord.gg/", "")
                },
                nonce = HttpService:GenerateGUID(false)
            })
        })
    else
        -- Fallback for other exploits
        local success, result = pcall(function()
            setclipboard(DiscordLink)
            return true
        end)
        
        if success then
            Notify("Discord", "Copied invite link to clipboard!", "info", 3)
        else
            Notify("Error", "Failed to open Discord link.", "error", 3)
        end
    end
end

-- Connect buttons to functions
SubmitButton.MouseButton1Click:Connect(OnSubmitKey)
DiscordButton.MouseButton1Click:Connect(OpenDiscord)
CloseButton.MouseButton1Click:Connect(function()
    -- Close animation
    local goal = {}
    goal.Size = UDim2.new(0, 0, 0, 0)
    goal.Position = UDim2.new(0.5, 0, 0.5, 0)
    
    local tweenInfo = TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.In)
    local tween = TweenService:Create(MainFrame, tweenInfo, goal)
    tween:Play()
    
    tween.Completed:Connect(function()
        ScreenGui:Destroy()
    end)
end)

-- Enter key shortcut
KeyInput.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        OnSubmitKey()
    end
end)

-- Animation for initial appearance
MainFrame.Size = UDim2.new(0, 0, 0, 0)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)

-- Animate opening
local goal = {}
goal.Size = UDim2.new(0, 350, 0, 280)
goal.Position = UDim2.new(0.5, -175, 0.5, -140)

local tweenInfo = TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.Out)
local tween = TweenService:Create(MainFrame, tweenInfo, goal)
tween:Play()

-- Initial notification
Notify("Midnight Hub", "Welcome to Midnight Hub v2.1.0", "info", 4)

-- Auto-detect game and show appropriate message
if IsGameSupported then
    task.wait(0.5)
    Notify("Game Detected", "This game is supported! Enter your key.", "success", 4)
end
